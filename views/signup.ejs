<%- include('partials/header'); -%>
<%- include('partials/nav'); -%>

<h1>Sign up</h1>

<form action="/signup">
	<label for="email"></label>
	<input type="text" id="email" name="email" placeholder="your email" required>

	<div class="email error"></div>

	<label for="password"></label>
	<input type="password" id="password" name="password" placeholder="your password" required>

	<div class="password error"></div>
	
	<button>Sign up</button>
</form>

<%- include('partials/footer'); -%>

<script>
	const form = document.querySelector('form');
  
	form.addEventListener('submit', async (e) => {
	  e.preventDefault();
  
		// get values
		const email = form.email.value;
		const password = form.password.value;
	  
		try {
		const res = await fetch('/signup', { 
			method: 'POST', 
			body: JSON.stringify({ email, password }),
			headers: {'Content-Type': 'application/json'}
		});
		}
		catch (err) {
		console.log(err);
		};
	});
</script>